# Load testing


## Описание проекта
Проект предназначен для сравнения производительности HTTP-сервера при использовании:
- Виртуальных потоков  и классических потоков.
- Собственного JSON-парсера и библиотеки GSON.

## Требования
- Java 21 или выше (для поддержки виртуальных потоков).
- Установленный JMeter (версия 5.4 или выше).
- Maven для сборки проекта.

---

## Настройка JMeter
1. **Создание Thread Group**:
    - Открыть JMeter и создать новый тестовый план.
    - Добавить `Thread Group`:
        - Количество потоков (пользователей): `20`.
        - Ramp-up период: `1` секунда.
        - Число запросов: `1000`.

2. **Настройка HTTP-запросов**:
    - Для `Request-1`:
        - Метод: `POST`.
        - Путь: `/request1`.
        - Тело запроса (JSON):
          ```json
          {
            "a0":618,
            "a1":928,
            "a2":131
          }
          ```
    - Для `Request-2`:
        - Метод: `POST`.
        - Путь: `/request2`.
        - Тело запроса (JSON):
          ```json
          {
            "a0":618,
            "a1":928,
            "a2":131,
            "a3":119,
            "a4":599,
            "a5":535,
            "a6":345,
            "a7":247,
            "a8":970,
            "a9":583,
            "a10":786,
             ...
             ...
             ...
          }
          ```
          Для этого запроса была сгенерирована последовательность из 1000 случайных чисел.

3. **Добавление слушателей**:
    - Добавить `Graph Results` для анализа результатов.

---

## Запуск сервера
Сервер поддерживает следующие конфигурации:
- Тип потоков: виртуальные или классические. Настраивается с помощью булевой переменной в HTTPServerLauncher.
  boolean useVirtualThreads = true;
 
- JSON-парсер: собственный или GSON.
  boolean useGson = true;

